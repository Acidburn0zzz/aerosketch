<!DOCTYPE html>
<head>
<title>SVG</title>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<link rel="stylesheet/less" type="text/css" href="less/draw.less">
<script src="js/lib/less/less.min.js" type="text/javascript"></script>
</head>
<body data-bind="event:{contextmenu:function(){}}">
<div class="canvas" data-bind="surface:trigger" style="cursor:default">
	<svg version="1.1" xmlns="http://www.w3.org/2000/svg" >
		<g data-bind="attr:{fill:background}">
			<rect width="100%" height="100%" rx="10" ry="10"/>
			<rect width="10" height="10" />
			<rect width="10" height="10" x="100%" transform="translate(-10 0)" />
			<rect width="10" height="10" x="100%" y="100%" transform="translate(-10 -10)" />
		</g>

		<g data-bind="attr:{transform:transform},foreach:layers">
			<g data-bind="visible:visible,template:shapesTemplate" ></g>
		</g>
		<g data-bind="template:controlsTemplate" ></g>
		<g data-bind="template:toolTemplate" ></g>
	</svg>
</div>
<div class="left">
	<div class="nav">
		<ul data-bind="foreach:tools" class="tools">
			<li data-bind="html:iconView, 
			css:{on:$root.tool()==$data}, 
			event:{
				mousedown:$root.tool,
				touchstart:$root.tool
			}"></li>
		</ul>
	</div>
</div>
<div class="bottom" >
	<div class="nocolor" data-bind="hammer:{tap:noColor}">
		<span class="draw-icon-cross"></span>
	</div>
	<div class="palette">
		<svg version="1.1" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none" 
			data-bind="attr:{viewBox:'0 0 '+palette.length+' 1'}, palette:color,foreach:palette" >
			<rect height="1" width="2" y="0" 
				data-bind="attr:{x:$index,fill:$data}" />
		</svg>
	</div>
</div>
<div class="color-toggle" 
	data-bind="with:options, 
	hammer:{tap:toggleColorMode,hold:swapColor},
	hammerOptions:{tap_double:false}">
	<div class="fill" data-bind="
		style:{background:fill,zIndex:$root.colorMode()=='fill'? 2:1},
		if:fill()=='none'">
		<span class="draw-icon-cross" ></span>
	</div>
	<div class="stroke" data-bind="if:stroke()=='none',
		style:{background:stroke,zIndex:$root.colorMode()=='stroke'? 2:1}">
		<span class="draw-icon-cross" ></span>
	</div>
</div>
<div class="toolbar-top-left btn-toolbar" 
data-bind="template:toolbarTemplate"></div>
<div class="toolbar-top-right btn-toolbar">
	<div class="btn-group">
		<!-- ko if:selection().length > 0 -->
		<button class="btn" data-bind="hammer:{tap:cut}">
			<i class="icon-cut icon-large"></i>
		</button>
		<button class="btn" data-bind="hammer:{tap:copy}">
			<i class="icon-copy icon-large"></i>
		</button>
		<!-- /ko -->
		<!-- ko if:clipboard().length > 0 -->
		<button class="btn" data-bind="hammer:{tap:paste}">
			<i class="icon-paste icon-large"></i>
		</button>
		<!-- /ko -->
	</div>
	<div class="btn-group">
		<button class="btn" data-bind="hammer:{tap:undo},hammerOptions:{tap_double:false}">
			<i class="icon-undo icon-large"></i>
		</button>
		<button class="btn" data-bind="hammer:{tap:redo},hammerOptions:{tap_double:false}">
			<i class="icon-repeat icon-large"></i>
		</button>
	</div>
	<!--
	<div class="btn-group">
		<button class="btn dropdown-toggle" data-toggle="dropdown" 
			data-bind="dropdown:true">
			<i class="icon-reorder icon-large"></i>
		</button>
		<ul class="dropdown-menu pull-right" >
			<li><a data-bind="hammer:{}" href="#">Layers</a></li>
			<li><a data-bind="hammer:{}" href="#">Properties</a></li>
			<li class="divider"></li>
			<li><a data-bind="hammer:{}" href="#">Reset Canvas</a></li>
		</ul>
	</div>
	-->
</div>
<div class="toolbar-bottom-right btn-toolbar">
	<div class="btn-group">
		<button class="btn btn-primary">Done</button>
	</div>
</div>
<script type="text/javascript" data-main="js/main" src="js/lib/require/require.js"></script>
</body>
</html>

