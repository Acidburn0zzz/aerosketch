<!DOCTYPE html>
<head>
<title>Aerosketch</title>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
<link rel="stylesheet/less" type="text/css" href="less/draw.less">
<script src="js/lib/less/less.min.js" type="text/javascript"></script>
</head>
<body data-bind="css:{transforming:transforming}">
<div class="loading" data-bind="">
	<h1>Aerosketch</h1>
	<p><img src="img/loading.gif" alt="loading" /></p>
</div>
<div class="main" style="display:none;" data-bind="visible:true">
	<div id="surface" class="surface" data-bind="surface:trigger,style:{background:background}" style="cursor:default">
		<svg version="1.1" xmlns="http://www.w3.org/2000/svg" >
			<rect data-bind="attr:{fill:background}" stroke="none" width="100%" height="100%" />
			<g stroke-linecap="round">
				<g data-bind="aniattr:{transform:transform},foreach:layers">
					<g data-bind="visible:visible,template:shapesTemplate" ></g>
				</g>
				<g data-bind="template:controlsTemplate" ></g>
				<g data-bind="template:toolTemplate" ></g>
			</g>
		</svg>
	</div>
	<div class="left">
		<div class="nav">
			<ul data-bind="foreach:tools" class="tools">
				<li data-bind="html:iconView, 
				css:{on:$root.tool()==$data}, 
				event:{
					mousedown:$root.tool,
					touchstart:$root.tool
				}"></li>
			</ul>
		</div>
	</div>
	<div class="bottom" >
		<div class="nocolor" data-bind="hammer:{tap:noColor}">
			<span class="draw-icon-cross"></span>
		</div>
		<ul class="palette" data-bind="palette:color,foreach:palette">
			<li data-bind="style:{left:(100*$index()/$root.palette.length)+'%',background:$data}"></li>
		</ul>
	</div>
	<div class="color-toggle" 
		data-bind="with:options, 
		hammer:{tap:toggleColorMode,hold:swapColor},
		hammerOptions:{doubletap_interval:0}">
		<div class="fill" data-bind="
			style:{background:fill()=='none'?'':fill(),
			zIndex:$root.colorMode()=='fill'? 2:1},
			if:fill()=='none'">
			<span class="draw-icon-cross" ></span>
		</div>
		<div class="stroke" data-bind="
			if:stroke()=='none',
			style:{background:stroke()=='none'?'':stroke(),
			zIndex:$root.colorMode()=='stroke'? 2:1}">
			<span class="draw-icon-cross" ></span>
		</div>
	</div>
	<div class="toolbar-bottom-left">
		<!--<span data-bind="visible:selection().length>0" class="">Pinch selection to transform</span>-->
	</div>
	<div class="toolbar-top-left btn-toolbar" 
	data-bind="template:toolbarTemplate"></div>
	<div class="toolbar-top-right btn-toolbar">
		<div class="btn-group">
			<button class="btn" data-bind="hammer:{tap:undo},hammerOptions:{doubletap_interval:0}">
				<i class="icon-undo icon-large"></i>
			</button>
			<button class="btn" data-bind="hammer:{tap:redo},hammerOptions:{doubletap_interval:0}">
				<i class="icon-repeat icon-large"></i>
			</button>
		</div>
	</div>
	<div class="toolbar-bottom-right btn-toolbar">
		<div class="btn-group">
			<!-- ko if:selection().length > 0 -->
			<button class="btn" data-bind="hammer:{tap:hide}">
				<i class="icon-remove-sign icon-large"></i>
			</button>
			<button class="btn" data-bind="hammer:{tap:copy}">
				<i class="icon-copy icon-large"></i>
			</button>
			<!-- /ko -->
			<!-- ko if:clipboard().length > 0 -->
			<button class="btn" data-bind="hammer:{tap:paste}">
				<i class="icon-paste icon-large"></i>
			</button>
			<!-- /ko -->
		</div>
		<div class="btn-group">
			<!--
			<button class="btn" data-bind="">
				<i class="icon-comments-alt icon-large"></i>
			</button>
			-->
		</div>
		<!--
		<div class="btn-group" data-bind="hammer:{tap:save}">
			<button class="btn btn-primary">Save</button>
		</div>
		-->
	</div>
</div>
<script type="text/javascript" data-main="js/main" src="js/lib/require/require.js"></script>
</body>
</html>

